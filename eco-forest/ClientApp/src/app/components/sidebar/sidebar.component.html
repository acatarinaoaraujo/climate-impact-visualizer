<!-- Sidebar html -->
<mat-drawer-container class="container">
  <mat-drawer
    #drawer
    class="sidenav"
    mode="side"
    [opened]="!isCollapsed"
    [style.width]="isCollapsed ? '40px' : '470px'"
    [ngClass]="{ 'collapsed': isCollapsed }"
  >
    <div class="sidenav-content">
      <form>
        <mat-form-field appearance="outline">
          <mat-label>{{ apiType === 'renewable-energy' ? 'Energy Type' : 'Indicator Type' }}</mat-label>
          <mat-select
            [ngModel]="apiType === 'renewable-energy' ? selectedEnergyType : selectedIndicatorType"
            (ngModelChange)="onSelectionChange($event)"
            [ngModelOptions]="{standalone: true}"
          >
            <mat-option *ngFor="let option of apiType === 'renewable-energy' ? energyTypes : indicatorTypes" [value]="option">
              {{ option }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </form>
      
      <p class="year-range">Year Range</p>

      <mat-slider
        [min]="yearRange.min"
        [max]="yearRange.max"
        [step]="1"
        [showTickMarks]="true"
        [discrete]="true"
      >
        <input matSliderStartThumb [(ngModel)]="startYear" name="start" (ngModelChange)="onYearRangeChange()">
        <input matSliderEndThumb [(ngModel)]="endYear" name="end" (ngModelChange)="onYearRangeChange()">
      </mat-slider>

      <app-sidebar-list
        [apiType]="apiType"
        [energyType]="selectedEnergyType"
        [indicatorType]="selectedIndicatorType"
        [startYear]="startYear"
        [endYear]="endYear">
      </app-sidebar-list>
    </div>
  </mat-drawer>

  <div class="toggle-btn-container">
    <button mat-icon-button class="toggle-btn" (click)="toggleSidebar()">
      <mat-icon>{{ isCollapsed ? 'chevron_right' : 'chevron_left' }}</mat-icon>
    </button>
  </div>
</mat-drawer-container>

